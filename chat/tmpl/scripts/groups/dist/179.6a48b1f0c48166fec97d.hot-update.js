"use strict";self.webpackHotUpdateextensions(179,{5761:(t,r,o)=>{o.d(r,{Z:()=>d});var a=o(5586),e=o(4912),n=o(6218),i=o(9027),s=o(4559).default;const d={components:{Groups:n.Z,Chat:i.Z,Error:a.Z,Spinner:e.Z},data:function(){return{apiURL:globals.apiURL,error:!1,loading:!1,route:"groups",groups:!1,group:!1,form:{msg:""}}},created:function(){this.loadGroups()},mounted:function(){},methods:{handlerLoadGroup:function(t){if(!t.id)return!1;this.loading=!0;var r=this;s.get(this.apiURL+"/getGroup/"+t.id).then((function(t){t.data?t.data.error?r.error=""+t.data.msg:(r.group=t.data,r.route="chat"):r.error="Fehler beim Laden. 01"})).catch((function(){r.error="Fehler beim Laden. 02"})).finally((function(){r.loading=!1}))},loadGroups:function(){this.loading=!0;var t=this;s.get(this.apiURL+"/getGroups").then((function(r){r.data?r.data.error?t.error=""+r.data.msg:(t.groups=r.data,t.route="groups"):t.error="Fehler beim Laden. 01"})).catch((function(){t.error="Fehler beim Laden. 02"})).finally((function(){t.loading=!1}))},handlerChatSubmit:function(t){if(!this.group.id||!t.msg)return!1;var r=new FormData;r.append("group_id",this.group.id),r.append("msg",t.msg),this.loading=!0;var o=this;s.post(this.apiURL+"/setMsg",r,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){t.data?0==t.data.error?t.data.msgObj&&(o.form={msg:""},o.group.chat.push(t.data.msgObj)):o.error=""+t.data.msg:o.error="Fehler beim Laden. 01"})).catch((function(){o.error="Fehler beim Laden. 02"})).finally((function(){o.loading=!1}))},handlerChatClose:function(){this.route="groups",this.group=!1}}}},9259:(t,r,o)=>{o.d(r,{Z:()=>n});var a=o(1398),e=o(4559).default;const n={components:{User:a.Z},data:function(){return{}},props:{group:Array,form:Object,loading:Boolean},created:function(){this.group.id&&e.get(this.apiURL+"/getGroup/"+item.id).then((function(t){t.data?t.data.error?that.error=""+t.data.msg:(that.group=t.data,that.route="chat"):that.error="Fehler beim Laden. 01"})).catch((function(){that.error="Fehler beim Laden. 02"})).finally((function(){that.loading=!1}))},updated:function(){var t=this;this.$nextTick((function(){return t.scrollToEnd()}))},watch:{loading:{immediate:!0,handler:function(t,r){this.scrollToEnd()}}},methods:{scrollToEnd:function(){var t=this.$refs.messagesContainer;t&&(t.scrollTop=t.scrollHeight,console.log("scroll height is "+t.scrollHeight+" scroll Top is "+t.scrollTop))},handlerBack:function(){this.$emit("close")},handlerFormSubmit:function(){if(!this.form.msg)return!1;this.$emit("submit",this.form)}}}}},(function(t){t.h=()=>"dd3deaf262710f921bf6"}));